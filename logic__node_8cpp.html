<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Razorbotz RMC 2022-2023 Documentation: spinner/src/logic/src/logic_node.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Razorbotz RMC 2022-2023 Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e1e8e7a629f78848c229dd588f60f637.html">spinner</a></li><li class="navelem"><a class="el" href="dir_5b9fa479348470032ea538a53ac711fb.html">src</a></li><li class="navelem"><a class="el" href="dir_3e94934189597ca00cffab894948509f.html">logic</a></li><li class="navelem"><a class="el" href="dir_9ca1187657a27d9b1a6b1c6dc4523c94.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">logic_node.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Node handling logic for robot.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;rclcpp/rclcpp.hpp&gt;</code><br />
<code>#include &lt;std_msgs/msg/bool.hpp&gt;</code><br />
<code>#include &lt;std_msgs/msg/float32.hpp&gt;</code><br />
<code>#include &lt;std_msgs/msg/int8.hpp&gt;</code><br />
<code>#include &lt;std_msgs/msg/u_int8.hpp&gt;</code><br />
<code>#include &lt;std_msgs/msg/float32_multi_array.hpp&gt;</code><br />
<code>#include &lt;messages/msg/button_state.hpp&gt;</code><br />
<code>#include &lt;messages/msg/hat_state.hpp&gt;</code><br />
<code>#include &lt;messages/msg/axis_state.hpp&gt;</code><br />
<code>#include &lt;messages/msg/key_state.hpp&gt;</code><br />
<code>#include &lt;messages/msg/zed_position.hpp&gt;</code><br />
<code>#include &quot;logic/Automation1.hpp&quot;</code><br />
<code>#include &quot;logic/AutomationTypes.hpp&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for logic_node.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="logic__node_8cpp__incl.png" border="0" usemap="#aspinner_2src_2logic_2src_2logic__node_8cpp" alt=""/></div>
<map name="aspinner_2src_2logic_2src_2logic__node_8cpp" id="aspinner_2src_2logic_2src_2logic__node_8cpp">
<area shape="rect" title="Node handling logic for robot." alt="" coords="721,5,860,46"/>
<area shape="rect" title=" " alt="" coords="160,102,218,127"/>
<area shape="poly" title=" " alt="" coords="721,32,625,39,503,50,370,69,238,97,230,99,229,93,236,91,369,64,503,45,624,33,721,27"/>
<area shape="rect" title=" " alt="" coords="5,256,125,282"/>
<area shape="poly" title=" " alt="" coords="721,35,493,58,378,75,331,85,297,96,253,122,196,164,91,249,88,245,192,160,250,118,295,92,330,80,377,70,492,52,720,29"/>
<area shape="rect" title=" " alt="" coords="149,256,309,282"/>
<area shape="poly" title=" " alt="" coords="721,32,621,38,507,50,403,69,362,81,333,96,310,121,300,146,292,176,277,210,250,246,246,243,272,207,287,174,294,145,305,118,330,92,360,76,402,64,506,45,621,33,721,27"/>
<area shape="rect" title=" " alt="" coords="528,256,701,282"/>
<area shape="poly" title=" " alt="" coords="721,33,687,40,652,52,621,70,595,96,586,113,581,131,582,171,591,210,604,242,599,244,586,211,576,172,576,131,581,111,591,92,617,66,650,47,685,35,720,28"/>
<area shape="rect" title=" " alt="" coords="619,102,775,127"/>
<area shape="poly" title=" " alt="" coords="771,48,722,94,718,90,767,45"/>
<area shape="rect" title=" " alt="" coords="800,102,970,127"/>
<area shape="poly" title=" " alt="" coords="814,45,863,90,860,94,810,48"/>
<area shape="rect" title=" " alt="" coords="994,94,1144,135"/>
<area shape="poly" title=" " alt="" coords="855,44,993,87,991,92,853,49"/>
<area shape="rect" title=" " alt="" coords="1167,94,1318,135"/>
<area shape="poly" title=" " alt="" coords="860,36,1153,91,1152,96,859,42"/>
<area shape="rect" title=" " alt="" coords="1342,102,1535,127"/>
<area shape="poly" title=" " alt="" coords="860,32,1070,57,1329,91,1358,96,1357,101,1329,97,1070,62,859,37"/>
<area shape="rect" title=" " alt="" coords="1558,102,1756,127"/>
<area shape="poly" title=" " alt="" coords="860,29,1159,51,1352,69,1547,91,1578,96,1577,101,1546,97,1351,74,1158,56,860,34"/>
<area shape="rect" title=" " alt="" coords="1780,102,1974,127"/>
<area shape="poly" title=" " alt="" coords="860,27,1247,46,1506,65,1768,91,1800,96,1799,101,1767,97,1505,70,1247,51,860,32"/>
<area shape="rect" title=" " alt="" coords="1999,102,2209,127"/>
<area shape="poly" title=" " alt="" coords="860,26,1054,31,1332,43,1657,62,1987,91,2022,96,2022,101,1986,97,1656,67,1332,48,1054,37,860,31"/>
<area shape="rect" href="Automation1_8hpp_source.html" title=" " alt="" coords="344,102,493,127"/>
<area shape="poly" title=" " alt="" coords="721,46,485,100,484,95,720,40"/>
<area shape="rect" href="AutomationTypes_8hpp_source.html" title=" " alt="" coords="725,256,872,282"/>
<area shape="poly" title=" " alt="" coords="721,36,690,43,659,55,631,72,609,95,602,114,609,133,637,173,674,205,715,230,752,248,750,253,712,234,671,209,633,176,604,136,597,114,604,93,628,68,657,50,689,38,720,30"/>
<area shape="rect" href="Automation_8hpp_source.html" title=" " alt="" coords="363,183,474,208"/>
<area shape="poly" title=" " alt="" coords="421,128,421,168,416,168,416,128"/>
<area shape="poly" title=" " alt="" coords="363,211,140,256,138,250,362,205"/>
<area shape="poly" title=" " alt="" coords="387,211,276,253,274,248,385,206"/>
<area shape="poly" title=" " alt="" coords="452,206,568,248,567,253,451,211"/>
<area shape="rect" title=" " alt="" coords="333,256,504,282"/>
<area shape="poly" title=" " alt="" coords="421,209,421,241,416,241,416,209"/>
<area shape="poly" title=" " alt="" coords="475,205,720,251,719,256,474,210"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e8ab0346bf070fbeb647b182a54ce56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a8e8ab0346bf070fbeb647b182a54ce56">initSetSpeed</a> ()</td></tr>
<tr class="memdesc:a8e8ab0346bf070fbeb647b182a54ce56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize the motors to zero.  <br /></td></tr>
<tr class="separator:a8e8ab0346bf070fbeb647b182a54ce56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb179e09645dfb07c1de38710db0877"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a5eb179e09645dfb07c1de38710db0877">updateSpeed</a> ()</td></tr>
<tr class="memdesc:a5eb179e09645dfb07c1de38710db0877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to update speed of the wheels.  <br /></td></tr>
<tr class="separator:a5eb179e09645dfb07c1de38710db0877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291d4c0addc833b2f937352267bca31f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a291d4c0addc833b2f937352267bca31f">stopSpeed</a> ()</td></tr>
<tr class="memdesc:a291d4c0addc833b2f937352267bca31f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to stop drive train motors.  <br /></td></tr>
<tr class="separator:a291d4c0addc833b2f937352267bca31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5610c4020ee9eefc147af3b106a62c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#af5610c4020ee9eefc147af3b106a62c6">updateExcavation</a> ()</td></tr>
<tr class="memdesc:af5610c4020ee9eefc147af3b106a62c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to update excavation motor speeds.  <br /></td></tr>
<tr class="separator:af5610c4020ee9eefc147af3b106a62c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa2c975bcf2f82121196930dc026e2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#abaa2c975bcf2f82121196930dc026e2c">stopExcavation</a> ()</td></tr>
<tr class="memdesc:abaa2c975bcf2f82121196930dc026e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to stop excavation motors.  <br /></td></tr>
<tr class="separator:abaa2c975bcf2f82121196930dc026e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af202f06e4a0f8f961c7b56491caf7520"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#af202f06e4a0f8f961c7b56491caf7520">transformJoystickInfo</a> (float info, float deadZone)</td></tr>
<tr class="memdesc:af202f06e4a0f8f961c7b56491caf7520"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to transform the joystick input.  <br /></td></tr>
<tr class="separator:af202f06e4a0f8f961c7b56491caf7520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a42d386374821388c30e3b8e3cd2cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a93a42d386374821388c30e3b8e3cd2cb">joystickAxisCallback</a> (const messages::msg::AxisState::SharedPtr axisState)</td></tr>
<tr class="memdesc:a93a42d386374821388c30e3b8e3cd2cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for joystick axis topic.  <br /></td></tr>
<tr class="separator:a93a42d386374821388c30e3b8e3cd2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e6bbe95c6993e758ed7ebec50013434"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a2e6bbe95c6993e758ed7ebec50013434">joystickButtonCallback</a> (const messages::msg::ButtonState::SharedPtr buttonState)</td></tr>
<tr class="memdesc:a2e6bbe95c6993e758ed7ebec50013434"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for joystick buttons.  <br /></td></tr>
<tr class="separator:a2e6bbe95c6993e758ed7ebec50013434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01211abeffe8ccc672747e28fe1ef14e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a01211abeffe8ccc672747e28fe1ef14e">joystickHatCallback</a> (const messages::msg::HatState::SharedPtr hatState)</td></tr>
<tr class="memdesc:a01211abeffe8ccc672747e28fe1ef14e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for joystick hat.  <br /></td></tr>
<tr class="separator:a01211abeffe8ccc672747e28fe1ef14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486bd4ae49ca3c76dd54d4c568d3a13f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a486bd4ae49ca3c76dd54d4c568d3a13f">keyCallback</a> (const messages::msg::KeyState::SharedPtr keyState)</td></tr>
<tr class="memdesc:a486bd4ae49ca3c76dd54d4c568d3a13f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for the keys.  <br /></td></tr>
<tr class="separator:a486bd4ae49ca3c76dd54d4c568d3a13f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bdfbba8ce53694e276f9685315a9775"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logic__node_8cpp.html#a6bdfbba8ce53694e276f9685315a9775">zedPositionCallback</a> (const messages::msg::ZedPosition::SharedPtr zedPosition)</td></tr>
<tr class="memdesc:a6bdfbba8ce53694e276f9685315a9775"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for the zedPosition.  <br /></td></tr>
<tr class="separator:a6bdfbba8ce53694e276f9685315a9775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top"><a id="a3c04138a5bfe5d72780bb7e82a18e627" name="a3c04138a5bfe5d72780bb7e82a18e627"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4139548a0cb7d8e541599673553f489a"><td class="memItemLeft" align="right" valign="top"><a id="a4139548a0cb7d8e541599673553f489a" name="a4139548a0cb7d8e541599673553f489a"></a>
rclcpp::Node::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><b>nodeHandle</b></td></tr>
<tr class="separator:a4139548a0cb7d8e541599673553f489a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b7293582e2660d705b779ced11e9c2"><td class="memItemLeft" align="right" valign="top"><a id="ab6b7293582e2660d705b779ced11e9c2" name="ab6b7293582e2660d705b779ced11e9c2"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>joystick1Roll</b> =0</td></tr>
<tr class="separator:ab6b7293582e2660d705b779ced11e9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6925ea2d043e77b45736af5bd6304eda"><td class="memItemLeft" align="right" valign="top"><a id="a6925ea2d043e77b45736af5bd6304eda" name="a6925ea2d043e77b45736af5bd6304eda"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>joystick1Pitch</b> =0</td></tr>
<tr class="separator:a6925ea2d043e77b45736af5bd6304eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c69d1ba09b20c1ae9a3022bd6fd0ece"><td class="memItemLeft" align="right" valign="top"><a id="a2c69d1ba09b20c1ae9a3022bd6fd0ece" name="a2c69d1ba09b20c1ae9a3022bd6fd0ece"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>joystick1Yaw</b> =0</td></tr>
<tr class="separator:a2c69d1ba09b20c1ae9a3022bd6fd0ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4176e6a3c90476f444186646a2f7f3"><td class="memItemLeft" align="right" valign="top"><a id="aea4176e6a3c90476f444186646a2f7f3" name="aea4176e6a3c90476f444186646a2f7f3"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>joystick1Throttle</b> =0</td></tr>
<tr class="separator:aea4176e6a3c90476f444186646a2f7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a83741cbc4f02ddcc0ddf5d6745894"><td class="memItemLeft" align="right" valign="top"><a id="a74a83741cbc4f02ddcc0ddf5d6745894" name="a74a83741cbc4f02ddcc0ddf5d6745894"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>automationGo</b> =false</td></tr>
<tr class="separator:a74a83741cbc4f02ddcc0ddf5d6745894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee99451e30de0af5e61b16bb78e66d26"><td class="memItemLeft" align="right" valign="top"><a id="aee99451e30de0af5e61b16bb78e66d26" name="aee99451e30de0af5e61b16bb78e66d26"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>invertDrum</b> = false</td></tr>
<tr class="separator:aee99451e30de0af5e61b16bb78e66d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab572c9c5a07c230e4afa62e1b30e5213"><td class="memItemLeft" align="right" valign="top"><a id="ab572c9c5a07c230e4afa62e1b30e5213" name="ab572c9c5a07c230e4afa62e1b30e5213"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>excavationGo</b> = false</td></tr>
<tr class="separator:ab572c9c5a07c230e4afa62e1b30e5213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff11d375e996869baf9294238ded9cb9"><td class="memItemLeft" align="right" valign="top"><a id="aff11d375e996869baf9294238ded9cb9" name="aff11d375e996869baf9294238ded9cb9"></a>
<a class="el" href="classAutomation.html">Automation</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>automation</b> =new <a class="el" href="classAutomation1.html">Automation1</a>()</td></tr>
<tr class="separator:aff11d375e996869baf9294238ded9cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c57f683a5ae8e2761a887e291ee3010"><td class="memItemLeft" align="right" valign="top"><a id="a8c57f683a5ae8e2761a887e291ee3010" name="a8c57f683a5ae8e2761a887e291ee3010"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Float32_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>driveLeftSpeedPublisher</b></td></tr>
<tr class="separator:a8c57f683a5ae8e2761a887e291ee3010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828150ed5b109675fee6c4322647df42"><td class="memItemLeft" align="right" valign="top"><a id="a828150ed5b109675fee6c4322647df42" name="a828150ed5b109675fee6c4322647df42"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Float32_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>driveRightSpeedPublisher</b></td></tr>
<tr class="separator:a828150ed5b109675fee6c4322647df42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ae3b3b3cdb830509f73117ce2b367f"><td class="memItemLeft" align="right" valign="top"><a id="a01ae3b3b3cdb830509f73117ce2b367f" name="a01ae3b3b3cdb830509f73117ce2b367f"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Float32_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>dumpBinSpeedPublisher</b></td></tr>
<tr class="separator:a01ae3b3b3cdb830509f73117ce2b367f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd73af088f0bf054847bdb2d8518475"><td class="memItemLeft" align="right" valign="top"><a id="a6cd73af088f0bf054847bdb2d8518475" name="a6cd73af088f0bf054847bdb2d8518475"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Float32_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>shoulderSpeedPublisher</b></td></tr>
<tr class="separator:a6cd73af088f0bf054847bdb2d8518475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa650e8128ed5c3862bc77ae82949b4f9"><td class="memItemLeft" align="right" valign="top"><a id="aa650e8128ed5c3862bc77ae82949b4f9" name="aa650e8128ed5c3862bc77ae82949b4f9"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Float32_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>excavationArmPublisher</b></td></tr>
<tr class="separator:aa650e8128ed5c3862bc77ae82949b4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc1cc07a59f9b32052225a10cf04514"><td class="memItemLeft" align="right" valign="top"><a id="aefc1cc07a59f9b32052225a10cf04514" name="aefc1cc07a59f9b32052225a10cf04514"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Float32_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>excavationDrumPublisher</b></td></tr>
<tr class="separator:aefc1cc07a59f9b32052225a10cf04514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40999d3378a153f86276625fa0132152"><td class="memItemLeft" align="right" valign="top"><a id="a40999d3378a153f86276625fa0132152" name="a40999d3378a153f86276625fa0132152"></a>
std::shared_ptr&lt; rclcpp::Publisher&lt; std_msgs::msg::Bool_&lt; std::allocator&lt; void &gt; &gt;, std::allocator&lt; void &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>servoStatePublisher</b></td></tr>
<tr class="separator:a40999d3378a153f86276625fa0132152"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Node handling logic for robot. </p>
<p>This node receives information published by the communication node, wraps the information into topics, then publishes the topics. <br  />
 The topics that the node subscribes to are as follows: </p><ul>
<li><b>joystick_axis</b> </li>
<li><b>joystick_button</b> </li>
<li><b>joystick_hat</b> </li>
<li><b>key</b> </li>
<li><b>zed_position</b> </li>
</ul>
<p>To read more about the communication node </p><dl class="section see"><dt>See also</dt><dd>communication_node.cpp</dd></dl>
<p>The topics that are being published are as follows: </p><ul>
<li><b>drive_left_speed</b> </li>
<li><b>drive_right_speed</b> </li>
<li><b>dump_bin_speed</b> </li>
<li><b>shoulder_speed</b> </li>
<li><b>excavationArm</b> </li>
<li><b>excavationDrum</b> </li>
</ul>
<p>To read more about the nodes that subscribe to this one </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="talon__node_8cpp.html" title="Node controlling one Talon motor.">talon_node.cpp</a> </dd>
<dd>
<a class="el" href="excavation__node_8py.html" title="Node controlling excavation motors.">excavation_node.py</a> </dd>
<dd>
falcon_node.cpp </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8e8ab0346bf070fbeb647b182a54ce56" name="a8e8ab0346bf070fbeb647b182a54ce56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8ab0346bf070fbeb647b182a54ce56">&#9670;&#160;</a></span>initSetSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initSetSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize the motors to zero. </p>
<p>This function is called on start of the node and sends a message with a zero message to all motors to ensure that the motors are not set to an old value. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a93a42d386374821388c30e3b8e3cd2cb" name="a93a42d386374821388c30e3b8e3cd2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93a42d386374821388c30e3b8e3cd2cb">&#9670;&#160;</a></span>joystickAxisCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void joystickAxisCallback </td>
          <td>(</td>
          <td class="paramtype">const messages::msg::AxisState::SharedPtr&#160;</td>
          <td class="paramname"><em>axisState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for joystick axis topic. </p>
<p>This function is called when the node receives the topic joystick_axis, then converts the joystick input using a series of linear transformations before calling <a class="el" href="logic__node_8cpp.html#a5eb179e09645dfb07c1de38710db0877" title="Function to update speed of the wheels.">updateSpeed()</a> or <a class="el" href="logic__node_8cpp.html#af5610c4020ee9eefc147af3b106a62c6" title="Function to update excavation motor speeds.">updateExcavation()</a> depending on the current state. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">axisState</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>AxisState.msg </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a2e6bbe95c6993e758ed7ebec50013434" name="a2e6bbe95c6993e758ed7ebec50013434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e6bbe95c6993e758ed7ebec50013434">&#9670;&#160;</a></span>joystickButtonCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void joystickButtonCallback </td>
          <td>(</td>
          <td class="paramtype">const messages::msg::ButtonState::SharedPtr&#160;</td>
          <td class="paramname"><em>buttonState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for joystick buttons. </p>
<p>This function is called when the node receives a topic with the name joystick_button. Button 2 toggles the drive and excavation states while button 3 inverts the direction of the drum. <br  />
 Buttons 6 and 7 control the locking servo. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buttonState</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>ButtonState.msg </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a01211abeffe8ccc672747e28fe1ef14e" name="a01211abeffe8ccc672747e28fe1ef14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01211abeffe8ccc672747e28fe1ef14e">&#9670;&#160;</a></span>joystickHatCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void joystickHatCallback </td>
          <td>(</td>
          <td class="paramtype">const messages::msg::HatState::SharedPtr&#160;</td>
          <td class="paramname"><em>hatState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for joystick hat. </p>
<p>This function is called when the node receives a topic with the name joystick_hat. It publishes the dump bin speed based on the hat. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hatState</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>HatState.msg </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a486bd4ae49ca3c76dd54d4c568d3a13f" name="a486bd4ae49ca3c76dd54d4c568d3a13f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486bd4ae49ca3c76dd54d4c568d3a13f">&#9670;&#160;</a></span>keyCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void keyCallback </td>
          <td>(</td>
          <td class="paramtype">const messages::msg::KeyState::SharedPtr&#160;</td>
          <td class="paramname"><em>keyState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for the keys. </p>
<p>This function is called when the node receives a topic with the name key_state. It currently prints the key pressed to the screen and inverts <br  />
 </p><ul>
<li>automationGo if the key is 's'. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keyState</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>KeyState.msg </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
</li>
</ul>

</div>
</div>
<a id="abaa2c975bcf2f82121196930dc026e2c" name="abaa2c975bcf2f82121196930dc026e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa2c975bcf2f82121196930dc026e2c">&#9670;&#160;</a></span>stopExcavation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stopExcavation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to stop excavation motors. </p>
<p>This function is called when the thumb button is pressed and switches to the drive state. It publishes a speed of 0.0 for the shoulder, excavation arm, drum, and dump bin. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a291d4c0addc833b2f937352267bca31f" name="a291d4c0addc833b2f937352267bca31f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291d4c0addc833b2f937352267bca31f">&#9670;&#160;</a></span>stopSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stopSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to stop drive train motors. </p>
<p>This function is called when toggle excavation button is pressed and switches to the excavation state. It publishes a speed of 0.0 for both the right and left wheels. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="af202f06e4a0f8f961c7b56491caf7520" name="af202f06e4a0f8f961c7b56491caf7520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af202f06e4a0f8f961c7b56491caf7520">&#9670;&#160;</a></span>transformJoystickInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float transformJoystickInfo </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>deadZone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to transform the joystick input. </p>
<p>This function is called to transform the joystick input into a slightly modified version. Because the joystick doesn't go to exactly zero, there will always be data published to the robot, causing it to drift slightly. <br  />
 This function zeroes the input in the range [-deadZone, deadZone] to prevent this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>- Float value of the joystick axis </td></tr>
    <tr><td class="paramname">deadZone</td><td>- Float value of the deadzone of the joystick </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>float </dd></dl>

</div>
</div>
<a id="af5610c4020ee9eefc147af3b106a62c6" name="af5610c4020ee9eefc147af3b106a62c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5610c4020ee9eefc147af3b106a62c6">&#9670;&#160;</a></span>updateExcavation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateExcavation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to update excavation motor speeds. </p>
<p>This function is called when the node receives joystick information and is in the excavation state. The function publishes the shoulder speed, the arm speed, and the drum speeed. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a5eb179e09645dfb07c1de38710db0877" name="a5eb179e09645dfb07c1de38710db0877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb179e09645dfb07c1de38710db0877">&#9670;&#160;</a></span>updateSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to update speed of the wheels. </p>
<p>This function is called by the joystickAxisCallback to update the speed to the wheels. It uses the data published to compute the speed of the wheels based on the joystick information and limited by the maxSpeed. </p><dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a6bdfbba8ce53694e276f9685315a9775" name="a6bdfbba8ce53694e276f9685315a9775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bdfbba8ce53694e276f9685315a9775">&#9670;&#160;</a></span>zedPositionCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zedPositionCallback </td>
          <td>(</td>
          <td class="paramtype">const messages::msg::ZedPosition::SharedPtr&#160;</td>
          <td class="paramname"><em>zedPosition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for the zedPosition. </p>
<p>This function is caled when the node receives a topic with the name zed_position. This function extracts the information and calls the setPosition function from the automation problem. <br  />
 </p><dl class="section see"><dt>See also</dt><dd>.<a class="el" href="Automation_8cpp.html">Automation.cpp</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">zedPosition</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>ZedPosition.msg </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
