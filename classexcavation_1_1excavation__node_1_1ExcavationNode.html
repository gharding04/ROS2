<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Razorbotz RMC 2022-2023 Documentation: excavation.excavation_node.ExcavationNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Razorbotz RMC 2022-2023 Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>excavation</b></li><li class="navelem"><b>excavation_node</b></li><li class="navelem"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html">ExcavationNode</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classexcavation_1_1excavation__node_1_1ExcavationNode-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">excavation.excavation_node.ExcavationNode Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for excavation.excavation_node.ExcavationNode:</div>
<div class="dyncontent">
<div class="center"><img src="classexcavation_1_1excavation__node_1_1ExcavationNode__inherit__graph.png" border="0" usemap="#aexcavation_8excavation__node_8ExcavationNode_inherit__map" alt="Inheritance graph"/></div>
<map name="aexcavation_8excavation__node_8ExcavationNode_inherit__map" id="aexcavation_8excavation__node_8ExcavationNode_inherit__map">
<area shape="rect" title=" " alt="" coords="5,79,160,119"/>
<area shape="rect" title=" " alt="" coords="56,5,109,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for excavation.excavation_node.ExcavationNode:</div>
<div class="dyncontent">
<div class="center"><img src="classexcavation_1_1excavation__node_1_1ExcavationNode__coll__graph.png" border="0" usemap="#aexcavation_8excavation__node_8ExcavationNode_coll__map" alt="Collaboration graph"/></div>
<map name="aexcavation_8excavation__node_8ExcavationNode_coll__map" id="aexcavation_8excavation__node_8ExcavationNode_coll__map">
<area shape="rect" title=" " alt="" coords="5,79,160,119"/>
<area shape="rect" title=" " alt="" coords="56,5,109,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3a84ab1017be481a3d868eac9aa1d944"><td class="memItemLeft" align="right" valign="top"><a id="a3a84ab1017be481a3d868eac9aa1d944" name="a3a84ab1017be481a3d868eac9aa1d944"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self)</td></tr>
<tr class="memdesc:a3a84ab1017be481a3d868eac9aa1d944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the program, sets subscriptions. <br /></td></tr>
<tr class="separator:a3a84ab1017be481a3d868eac9aa1d944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c30d69c1bc5c55dbda164a767ceb7b5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a6c30d69c1bc5c55dbda164a767ceb7b5">errorChecking</a> (self, odrv, num)</td></tr>
<tr class="memdesc:a6c30d69c1bc5c55dbda164a767ceb7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks motors for errors and corrects any errors found.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a6c30d69c1bc5c55dbda164a767ceb7b5">More...</a><br /></td></tr>
<tr class="separator:a6c30d69c1bc5c55dbda164a767ceb7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbee42333aaa63f9b4865c53b922230"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a1dbee42333aaa63f9b4865c53b922230">calibrateSingleBoard</a> (self, odrv, num)</td></tr>
<tr class="memdesc:a1dbee42333aaa63f9b4865c53b922230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates the ODrive object specified.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a1dbee42333aaa63f9b4865c53b922230">More...</a><br /></td></tr>
<tr class="separator:a1dbee42333aaa63f9b4865c53b922230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68d7b5c354cf872c26e62e72120af9c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#ab68d7b5c354cf872c26e62e72120af9c">findODriveObjects</a> (self)</td></tr>
<tr class="memdesc:ab68d7b5c354cf872c26e62e72120af9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to find the ODrive boards.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#ab68d7b5c354cf872c26e62e72120af9c">More...</a><br /></td></tr>
<tr class="separator:ab68d7b5c354cf872c26e62e72120af9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1023617d96e0f160ec22e8fd32611e13"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a1023617d96e0f160ec22e8fd32611e13">setRequestedState</a> (self)</td></tr>
<tr class="memdesc:a1023617d96e0f160ec22e8fd32611e13"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first two motors are set up to run the drum while the second is set up to # control the angle of the arm.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a1023617d96e0f160ec22e8fd32611e13">More...</a><br /></td></tr>
<tr class="separator:a1023617d96e0f160ec22e8fd32611e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b7ab8756bdb47c07014b92a808356d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a53b7ab8756bdb47c07014b92a808356d">excavationDrumCallback</a> (self, msg)</td></tr>
<tr class="memdesc:a53b7ab8756bdb47c07014b92a808356d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Excavation drum callback.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a53b7ab8756bdb47c07014b92a808356d">More...</a><br /></td></tr>
<tr class="separator:a53b7ab8756bdb47c07014b92a808356d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce9aa96d25427126bbbd42f0bb93dcf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a5ce9aa96d25427126bbbd42f0bb93dcf">excavationArmCallback</a> (self, msg)</td></tr>
<tr class="memdesc:a5ce9aa96d25427126bbbd42f0bb93dcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Excavation arm callback.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a5ce9aa96d25427126bbbd42f0bb93dcf">More...</a><br /></td></tr>
<tr class="separator:a5ce9aa96d25427126bbbd42f0bb93dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97224a0256e936c63929ad3fd67742bf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a97224a0256e936c63929ad3fd67742bf">stopCallback</a> (self, msg)</td></tr>
<tr class="memdesc:a97224a0256e936c63929ad3fd67742bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop callback function.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a97224a0256e936c63929ad3fd67742bf">More...</a><br /></td></tr>
<tr class="separator:a97224a0256e936c63929ad3fd67742bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7007fe4637bfff550437a52546337c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#aad7007fe4637bfff550437a52546337c">goCallback</a> (self, msg)</td></tr>
<tr class="memdesc:aad7007fe4637bfff550437a52546337c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go callback function.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#aad7007fe4637bfff550437a52546337c">More...</a><br /></td></tr>
<tr class="separator:aad7007fe4637bfff550437a52546337c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b95f1d775fbf0e0ddbe12bcdf7df104"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a8b95f1d775fbf0e0ddbe12bcdf7df104">calibrate</a> (self)</td></tr>
<tr class="memdesc:a8b95f1d775fbf0e0ddbe12bcdf7df104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial motor calibration.  <a href="classexcavation_1_1excavation__node_1_1ExcavationNode.html#a8b95f1d775fbf0e0ddbe12bcdf7df104">More...</a><br /></td></tr>
<tr class="separator:a8b95f1d775fbf0e0ddbe12bcdf7df104"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aedd42199b6d5e59e1a709da9618ad040"><td class="memItemLeft" align="right" valign="top"><a id="aedd42199b6d5e59e1a709da9618ad040" name="aedd42199b6d5e59e1a709da9618ad040"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>calibrated</b></td></tr>
<tr class="separator:aedd42199b6d5e59e1a709da9618ad040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60752a4fb0102cc5d3f97f454fa45c95"><td class="memItemLeft" align="right" valign="top"><a id="a60752a4fb0102cc5d3f97f454fa45c95" name="a60752a4fb0102cc5d3f97f454fa45c95"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GO</b></td></tr>
<tr class="separator:a60752a4fb0102cc5d3f97f454fa45c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f0042797ebf26009abbe475677ebba"><td class="memItemLeft" align="right" valign="top"><a id="ac0f0042797ebf26009abbe475677ebba" name="ac0f0042797ebf26009abbe475677ebba"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>errorState</b></td></tr>
<tr class="separator:ac0f0042797ebf26009abbe475677ebba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85af0d8d5cf9bfd507298c1c45970bb"><td class="memItemLeft" align="right" valign="top"><a id="aa85af0d8d5cf9bfd507298c1c45970bb" name="aa85af0d8d5cf9bfd507298c1c45970bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>restarted</b></td></tr>
<tr class="separator:aa85af0d8d5cf9bfd507298c1c45970bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff4ffb80d7a3148aa08af5eb2c0a3d63"><td class="memItemLeft" align="right" valign="top"><a id="aff4ffb80d7a3148aa08af5eb2c0a3d63" name="aff4ffb80d7a3148aa08af5eb2c0a3d63"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>excavationDrumSubscription</b></td></tr>
<tr class="separator:aff4ffb80d7a3148aa08af5eb2c0a3d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18efa593581734ba322a3cf29bda0967"><td class="memItemLeft" align="right" valign="top"><a id="a18efa593581734ba322a3cf29bda0967" name="a18efa593581734ba322a3cf29bda0967"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>excavationArmSubscription</b></td></tr>
<tr class="separator:a18efa593581734ba322a3cf29bda0967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d8ccde6f2cc23fc18c1a8e597eecd6"><td class="memItemLeft" align="right" valign="top"><a id="a99d8ccde6f2cc23fc18c1a8e597eecd6" name="a99d8ccde6f2cc23fc18c1a8e597eecd6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>stopSubscription</b></td></tr>
<tr class="separator:a99d8ccde6f2cc23fc18c1a8e597eecd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988c879199ae294f59d5b306f22b70ab"><td class="memItemLeft" align="right" valign="top"><a id="a988c879199ae294f59d5b306f22b70ab" name="a988c879199ae294f59d5b306f22b70ab"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>goSubscription</b></td></tr>
<tr class="separator:a988c879199ae294f59d5b306f22b70ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ceda1e7e3337afcc6f4b756be98009"><td class="memItemLeft" align="right" valign="top"><a id="a89ceda1e7e3337afcc6f4b756be98009" name="a89ceda1e7e3337afcc6f4b756be98009"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>odrv0</b></td></tr>
<tr class="separator:a89ceda1e7e3337afcc6f4b756be98009"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8b95f1d775fbf0e0ddbe12bcdf7df104" name="a8b95f1d775fbf0e0ddbe12bcdf7df104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b95f1d775fbf0e0ddbe12bcdf7df104">&#9670;&#160;</a></span>calibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.calibrate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial motor calibration. </p>
<pre class="fragment">           Goes through all motors and sets them to the full calibration sequence, then
           waits until the motor is finished with the calibration before moving on to
           the next motor.  If two motors are calibrating simultaneously on the same
           board, the current draw will shutdown the Jetson.
</pre> 
</div>
</div>
<a id="a1dbee42333aaa63f9b4865c53b922230" name="a1dbee42333aaa63f9b4865c53b922230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dbee42333aaa63f9b4865c53b922230">&#9670;&#160;</a></span>calibrateSingleBoard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.calibrateSingleBoard </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>odrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrates the ODrive object specified. </p>
<pre class="fragment">           @param odr ODrive object being calibrated
           @param num Number of the ODrive object, used for printing to the screen
</pre> 
</div>
</div>
<a id="a6c30d69c1bc5c55dbda164a767ceb7b5" name="a6c30d69c1bc5c55dbda164a767ceb7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c30d69c1bc5c55dbda164a767ceb7b5">&#9670;&#160;</a></span>errorChecking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.errorChecking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>odrv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks motors for errors and corrects any errors found. </p>
<pre class="fragment">           @param odr ODrive object being checked for errors
           @param num Number of the ODrive object, used for printing to the screen
</pre> 
</div>
</div>
<a id="a5ce9aa96d25427126bbbd42f0bb93dcf" name="a5ce9aa96d25427126bbbd42f0bb93dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce9aa96d25427126bbbd42f0bb93dcf">&#9670;&#160;</a></span>excavationArmCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.excavationArmCallback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Excavation arm callback. </p>
<pre class="fragment">           The callback function triggered when the node receives a message 
           of topic excavationArm.  The ODrive motor has a max RPM of 8640
           or 144 rev/sec.  The input_vel command takes a float as input and
           sets the speed to that number of rev/sec, thus is upper bounded by
           the motor maximum of 144.  Additionally, the motor has a tendency
           to throw errors if the new input_vel greatly differs from the
           previous command (ie &gt; ~10), so there is logic to ensure that any
           greatly differing command is handled gracefully.  The expected 
           input ranges from -1.0 to 1.0.
           @param msg The message containing the speed data, ranges from -1.0 to 1.0
</pre> 
</div>
</div>
<a id="a53b7ab8756bdb47c07014b92a808356d" name="a53b7ab8756bdb47c07014b92a808356d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53b7ab8756bdb47c07014b92a808356d">&#9670;&#160;</a></span>excavationDrumCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.excavationDrumCallback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Excavation drum callback. </p>
<pre class="fragment">           The callback function triggered when the node receives a message 
           of topic excavationDrum.  The ODrive motor has a max RPM of 8640
           or 144 rev/sec.  The input_vel command takes a float as input and
           sets the speed to that number of rev/sec, thus is upper bounded by
           the motor maximum of 144.  Additionally, the motor has a tendency
           to throw errors if the new input_vel greatly differs from the
           previous command (ie &gt; ~10), so there is logic to ensure that any
           greatly differing command is handled gracefully.  The expected
           input ranges from -1.0 to 1.0.
           @param msg The message containing the speed data, ranges from -1.0 to 1.0
</pre> 
</div>
</div>
<a id="ab68d7b5c354cf872c26e62e72120af9c" name="ab68d7b5c354cf872c26e62e72120af9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab68d7b5c354cf872c26e62e72120af9c">&#9670;&#160;</a></span>findODriveObjects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.findODriveObjects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to find the ODrive boards. </p>
<pre class="fragment">           The ODrive boards must be set to the following: odrv0 = 2083367F424D and
           odrv1 = 20773881304E.  If the boards are inverted, the callbacks will be
           incorrect for the actions.                
</pre> 
</div>
</div>
<a id="aad7007fe4637bfff550437a52546337c" name="aad7007fe4637bfff550437a52546337c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad7007fe4637bfff550437a52546337c">&#9670;&#160;</a></span>goCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.goCallback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Go callback function. </p>
<pre class="fragment">           The function triggered when the node receives a message with the name
           GO, which is sent when the user presses the trigger.  The GO variable 
           is set to True, which allows the motors to be set to non-zero 
           velocities.
</pre> 
</div>
</div>
<a id="a1023617d96e0f160ec22e8fd32611e13" name="a1023617d96e0f160ec22e8fd32611e13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1023617d96e0f160ec22e8fd32611e13">&#9670;&#160;</a></span>setRequestedState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.setRequestedState </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The first two motors are set up to run the drum while the second is set up to # control the angle of the arm. </p>
<p >On both boards, axis0 is the primary axis while # axis1 mirrors it. Currently both boards are controlled with velocity control # but odrv1 might be better served doing position control to better allow it to # be automated. #</p>
<p >Sets motors in correct states </p><pre class="fragment">           The motors must be calibrated and then set to the correct states to run 
           correctly.  For axis1 on both odrv0 and odrv1, the motor is configured to 
           mirror axis 0, then put into input mode 7, which is mirrored input.  This
           allows the motor to exactly mirror the output of axis 0 and prevents the
           motors from opposing each other.  For both ODrive objects, axis 0 is set 
           to control mode 2, velocity control, and initialized with a velocity of 0.
           They are then set to AXIS_STATE_CLOSED_LOOP_CONTROL, which allows the motors
           to run.
</pre> 
</div>
</div>
<a id="a97224a0256e936c63929ad3fd67742bf" name="a97224a0256e936c63929ad3fd67742bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97224a0256e936c63929ad3fd67742bf">&#9670;&#160;</a></span>stopCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def excavation.excavation_node.ExcavationNode.stopCallback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop callback function. </p>
<pre class="fragment">           The function triggered when the node receives a message with the name
           STOP, which is sent when the user releases the trigger.  The GO 
           variable is set to False and the input_vel of both boards are set to
           zero.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>spinner/src/excavation/excavation/<a class="el" href="excavation__node_8py.html">excavation_node.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
